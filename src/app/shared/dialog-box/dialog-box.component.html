<form #a="ngForm" *ngIf="action == 'AddNewVendor';">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'AddNewVendor';">Add New Vendor </h2>
  </div>
  <div mat-dialog-content class="model-body ">
    <div *ngIf="action == 'AddNewVendor';">
      <label class="mt-4"> Name</label>
      <mat-form-field appearance="none">
        <input placeholder="Vendor name" name="name" [ngClass]="{ 'is-invalid': a.submitted && name.invalid }"
          #name="ngModel" required matInput [(ngModel)]="localdata.name">
      </mat-form-field>

      <div class="row form-group py-3 align-items-center">
        <div class="col-md-6 px-2">
          <label>Logo</label>
          <input placeholder="Upload File" class="form-control mb-2 h-auto" id="txtFileUpload"
            (change)="selectLogo($event)" type="file">
        </div>
        <span *ngIf="logoImage">Uploaded</span>
      </div>
      <div class="mt-4">
        <mat-checkbox [(ngModel)]="selectcheckemail" name="active" #active="ngModel" required
          (ngModelChange)="updateIsActiveEmail()"></mat-checkbox> {{selecttext}}
      </div>

    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end" *ngIf="action == 'AddNewVendor' || action === 'AddVendorSetting';">
      <button class="d-flex btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex btn btn-custom" [disabled]="!a.valid" mat-button (click)="doAction()"
        mat-flat-button>Add</button>
    </div>
  </div>
</form>


<form *ngIf="action == 'Update' || action ==  'Add';" #b="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'Update' || action ==  'Add';">Upload Single Product</h2>
  </div>
  <div mat-dialog-content class="model-body ">
    <div *ngIf="action == 'Update' || action ==  'Add';">
      <label class="mt-4"> Name</label>
      <mat-form-field appearance="none">
        <input placeholder="Name" matInput name="itemName" [ngClass]="{ 'is-invalid': b.submitted && itemName.invalid }"
          #itemname="ngModel" required [(ngModel)]="localdata.itemName">
      </mat-form-field>
      <label class="mt-4"> Category </label>

      <mat-form-field appearance="none">
        <input placeholder="Category" matInput name="category" #category="ngModel"
          [ngClass]="{ 'is-invalid': b.submitted && category.invalid }" required [(ngModel)]="localdata.category">
      </mat-form-field>
      <label class="mt-4"> Product Id </label>
      <mat-form-field appearance="none">
        <input placeholder="Product Id" matInput name="productId" #productId="ngModel"
          [ngClass]="{ 'is-invalid': b.submitted && productId.invalid }" required
          [(ngModel)]="localdata.marketPlaceProductId">
      </mat-form-field>
      <label class="mt-4"> Seller Sku </label>
      <mat-form-field appearance="none">
        <input placeholder="Seller Sku" matInput name="sellersku" #sellersku="ngModel"
          [ngClass]="{ 'is-invalid': b.submitted && sellersku.invalid }" required [(ngModel)]="localdata.sellerSku">
      </mat-form-field>
      <div class="mt-4">
        <mat-checkbox [(ngModel)]="selectcheckemail" name="Active" #Active="ngModel" required
          (ngModelChange)="updateIsActiveEmail()"></mat-checkbox> {{selecttext}}
      </div>
      <label class="mt-4"> Quantity</label>
      <mat-form-field appearance="none">
        <input type="tel" placeholder="Quantity" name="quantity" #quantity="ngModel"
          [ngClass]="{ 'is-invalid': b.submitted && quantity.invalid }" required matInput
          [(ngModel)]="localdata.quantity">
      </mat-form-field>
      <label class="mt-4"> Price</label>
      <mat-form-field appearance="none">
        <input placeholder="Price" name="price" #price="ngModel"
          [ngClass]="{ 'is-invalid': b.submitted && price.invalid }" required matInput [(ngModel)]="localdata.price">
      </mat-form-field>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" [disabled]="!b.valid" mat-button (click)="doAction()">Save Changes</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'AddSinglekey';" #c="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'AddSinglekey' "> Add Single SKU </h2>
  </div>
  <div mat-dialog-content class="model-body ">
    <div *ngIf="action ==  'AddSinglekey';">
      <!-- <label class="mt-4"> SKU</label>
      <mat-form-field appearance="none">
        <input placeholder="SKU" matInput name="Sku" #Sku="ngModel" [ngClass]="{ 'is-invalid':  Sku.invalid }" required
          [(ngModel)]="localdata.sku">
      </mat-form-field> -->
      <label class="mt-4"> Batch Code </label>
      <mat-form-field appearance="none">
        <input placeholder="Batch Code" name="batch" #batch="ngModel" [ngClass]="{ 'is-invalid':  batch.invalid }"
          required matInput [(ngModel)]="localdata.batch">
      </mat-form-field>
      <label class="mt-4"> Key</label>
      <mat-form-field appearance="none">
        <input placeholder="key" matInput name="key" #key="ngModel" [ngClass]="{ 'is-invalid':  key.invalid }" required
          [(ngModel)]="localdata.key">
      </mat-form-field>
      <label> Priority </label>
      <mat-form-field appearance="fill">
        <mat-label *ngIf="!localdata.priority "> Priority </mat-label>
        <mat-select placeholder="Priority" name="priority" #priority="ngModel"
          [ngClass]="{ 'is-invalid':  priority.invalid }" required [(ngModel)]="localdata.priority">
          <mat-option [value]="'low'"> Low</mat-option>
          <mat-option [value]="'high'"> High</mat-option>
        </mat-select>
      </mat-form-field>
      <!-- <label class="mt-4">Priority</label>
      <mat-form-field appearance="none">
        <input placeholder="Priority" name="priority" #priority="ngModel"
          [ngClass]="{ 'is-invalid':  priority.invalid }" required matInput
          [(ngModel)]="localdata.priority">
      </mat-form-field> -->
      <div class="mt-4">
        <mat-checkbox [(ngModel)]="selectcheckemail" name="Active" #Active="ngModel"
          [ngClass]="{ 'is-invalid':  Active.invalid }" required (ngModelChange)="updateIsActiveEmail()">
        </mat-checkbox> {{selecttext}}
      </div>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" mat-button [disabled]="!c.valid" (click)="doAction()">Save Changes</button>
    </div>
  </div>
</form>


<form *ngIf="action == 'Updatekey';" #d="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'Updatekey';"> Update Single SKU Unique Key</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf="action == 'Updatekey' ">
      <!-- <label class="mt-4"> Select Key to update</label>
  <mat-form-field appearance="none" >
    <mat-label>Keys</mat-label>
    <mat-select (selectionChange)="selectedValue($event)" name="updateKeys" #updateKeys="ngModel" [ngClass]="{ 'is-invalid': d.submitted && updateKeys.invalid }"  [(ngModel)]="localdata.keys" required> 
        <mat-option *ngFor="let key of localdata.productKeys"  [value]="key">
        {{key.id}}
      </mat-option> 
    </mat-select>
  </mat-form-field> -->
      <label class="mt-4"> Batch Code </label>
      <mat-form-field appearance="none">
        <input placeholder="Batch Code" name="Batch1" #Batch1="ngModel"
          [ngClass]="{ 'is-invalid': d.submitted && Batch1.invalid }" required matInput [(ngModel)]="localdata.batch">
      </mat-form-field>
      <label class="mt-4"> Key</label>
      <mat-form-field appearance="none">
        <input placeholder="key" name="Key1" #Key1="ngModel" [ngClass]="{ 'is-invalid': d.submitted && Key1.invalid }"
          required matInput [(ngModel)]="localdata.key">
      </mat-form-field>
      <label class="mt-4">Priority</label>
      <mat-form-field appearance="none">
        <input placeholder="Priority1" name="Priority1" #Priority="ngModel"
          [ngClass]="{ 'is-invalid': d.submitted && Priority1.invalid }" required matInput
          [(ngModel)]="localdata.priority">
      </mat-form-field>
      <div class="mt-4">
        <mat-checkbox [(ngModel)]="selectcheckemail" name="Active7" #Active7="ngModel"
          [ngClass]="{ 'is-invalid': d.submitted && Active7.invalid }" required (ngModelChange)="updateIsActiveEmail()">
        </mat-checkbox> {{selecttext}}
      </div>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" [disabled]="!d.valid" mat-button (click)="doAction()">Save Changes</button>
    </div>
  </div>
</form>

<!-- <form *ngIf="action ==  'AddVendorSetting'" #e="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'AddVendorSetting';"> Add Settings For Vendor</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf="action == 'AddVendorSetting'">
      <label class="mt-4"> Seller Id </label>
      <mat-form-field appearance="none">
        <input placeholder="Seller Id" name="sellerid" #sellerid="ngModel"
          [ngClass]="{ 'is-invalid': e.submitted && sellerid.invalid }" required matInput
          [(ngModel)]="localdata.sellerId">
      </mat-form-field>
      <label class="mt-4"> Marketplace Id</label>
      <mat-form-field appearance="none">
        <input placeholder="Marketplace Id" name="marketplace" #marketplace="ngModel"
          [ngClass]="{ 'is-invalid': e.submitted && marketplace.invalid }" required matInput
          [(ngModel)]="localdata.marketplaceId">
      </mat-form-field>
      <label class="mt-4">Refresh Token</label>
      <mat-form-field appearance="none">
        <input placeholder="RefreshToken" name="refreshToken" #refreshToken="ngModel"
          [ngClass]="{ 'is-invalid': e.submitted && refreshToken.invalid }" required matInput
          [(ngModel)]="localdata.refreshToken">
      </mat-form-field>
      <label class="mt-4">Default Values</label>
      <mat-form-field appearance="none">
        <textarea placeholder="DefaultValues" name="defaultValues" #defaultValues="ngModel"
          [ngClass]="{'is-invalid': e.submitted && defaultValues.invalid }" required matInput
          [(ngModel)]="localdata.defaultValues"></textarea>
      </mat-form-field>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" mat-button [disabled]="!e.valid" (click)="doAction()">Save Changes</button>
    </div>
  </div>
</form> -->


<form *ngIf="action ==  'EditVendorSetting' || action=='AddVendorSetting'" [formGroup]="EditVendorSettingForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'EditVendorSetting' "> Edit Settings For Vendor</h2>
    <h2 mat-dialog-title *ngIf="action=='AddVendorSetting'"> Add Settings For Vendor</h2>
  </div>
  <div mat-dialog-content class="model-body  p-10">
    <div *ngIf="action == 'EditVendorSetting' || action=='AddVendorSetting'">
      <div class="row ">
        <div class="col-md-6">
          <label class="mt-2"> Seller Id </label>
          <mat-form-field appearance="none">
            <input placeholder="Seller Id" formControlName="sellerId" matInput>
          </mat-form-field>
        </div>
        <div class="col-md-6">
          <label class="mt-2"> Marketplace Id</label>
          <mat-form-field appearance="none">
            <input placeholder="Marketplace Id" formControlName="marketplaceId" matInput>
          </mat-form-field>
        </div>
        <div class="col-md-12">
          <label class="mt-2">Refresh Token</label>
          <mat-form-field appearance="none">
            <input placeholder="RefreshToken" formControlName="refreshToken" matInput>
          </mat-form-field>
        </div>
      </div>
      <label class="mt-2">Default Values</label>
      <div class="row default-row">
        <div class="col-md-6 mt-2">
          <mat-checkbox formControlName="RecieveSucessLoginEmail" class="example-margin" matInput>Receive Success Login
            Email
          </mat-checkbox>
        </div>
        <div class="col-md-6 mt-2">
          <mat-checkbox class="example-margin" formControlName="RecieveFailedLoginEmail" matInput>Receive
            Failed Login
            Email
          </mat-checkbox>
        </div>
        <div class="col-md-6 mt-2">
          <mat-checkbox class="example-margin" formControlName="RecieveEmailWhenUserLock" matInput>Receive
            Email When
            User Lock
          </mat-checkbox>
        </div>
        <div class="col-md-6 mt-2">
          <mat-checkbox class="example-margin" formControlName="InventoryUpdate" matInput>Inventory Update required
          </mat-checkbox>
        </div>

        <div class="col-md-6 mt-2">
          <mat-checkbox class="example-margin" formControlName="ApplyRestrictionOnThreshold" matInput>Apply Restriction
            On
            Threshold
          </mat-checkbox>
        </div>
        <div class="col-md-6 mt-2">
          <div *ngIf="EditVendorSettingForm.get('ApplyRestrictionOnThreshold').value == true">
            <label>Threshold Value</label>
            <mat-form-field appearance="none">
              <input type="number" formControlName="ThresholdValue" matInput placeholder="Threshold Value">
            </mat-form-field>

          </div>
        </div>

        <div class="col-md-6 mt-2">
          <label>Api Request Hourly</label>
          <mat-form-field appearance="none">
            <input type="number" formControlName="ApiRequestHourly" placeholder="Api Request Hourly" matInput>
          </mat-form-field>
        </div>

        <div class="col-md-6 mt-2">
          <label>Api Request Daily Limit</label>
          <mat-form-field appearance="none">
            <input type="number" formControlName="ApiRequestDaily" placeholder="Api Request Daily" matInput>
          </mat-form-field>

        </div>
        <div class="col-md-6 mt-2">
          <mat-checkbox class="example-margin" formControlName="RestrictOrderQuantity">Restrict Order Quantity
          </mat-checkbox>
        </div>
        <div class="col-md-6 mt-2">
          <div *ngIf="EditVendorSettingForm.get('RestrictOrderQuantity').value == true  ">
            <label>Max Order Quantity</label>
            <mat-form-field appearance="none">
              <input type="number" formControlName="MaxOrderQuantity" placeholder="Max Order Quantity" matInput>
            </mat-form-field>
          </div>
        </div>
      </div><label>Order Quantity SKU</label>
      <div formArrayName="order_qty_sku"
        *ngFor="let data of EditVendorSettingForm.get('order_qty_sku').controls;let i = index">
        <div [formGroupName]="i" class="row order_qty_main position-relative align-items-center">
          <div class="col-md-5 mt-2">
            <mat-label>Product</mat-label>
            <mat-form-field appearance="none">
              <input name="Product" placeholder="Product" formControlName="sku" matInput [ngClass]="{'is-invalid': data.controls.sku.invalid && data.controls.sku.touched ,
              'is-valid': data.controls.sku.valid, '': data.controls.sku.untouched}">
            </mat-form-field>
            <div *ngIf="data.controls.sku.errors" class="invalid-feedback d-block">
              <div *ngIf="data.controls.sku.touched">
                Product Is Required
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <label>Quantity</label>
            <mat-form-field appearance="none">
              <input type="number" placeholder="Quantity" name="Quantity" formControlName="qty" matInput [ngClass]=" {'is-invalid':data.controls.qty.invalid && data.controls.qty.touched,
              'is-valid': data.controls.qty.valid, '': data.controls.qty.untouched}">
            </mat-form-field>
            <div *ngIf=" data.controls.qty.errors" class="invalid-feedback d-block">
              <div *ngIf="data.controls.qty.errors.required">
                Quantity Is Required
              </div>
              <!-- <div *ngIf="data.get('qty').hasError('pattern')">
                Only Number are allowed
              </div> -->
            </div>

          </div>
          <div class="col-md-2">
            <div class="remove-item">
              <a *ngIf=" i > 0" (click)="removeItem(i)">
                <span class="material-icons"> clear </span></a>
            </div>
          </div>
        </div>
        <!-- </div> -->
      </div>
      <div class="row">
        <div class="col-md-12" *ngIf="EditVendorSettingForm.invalid && issue">
          <div class="invalid-feedback d-block"> Product and Quantity Field Must Not Empty
          </div>
        </div>
        <div class="col-md-12 mt-2">
          <button (click)="addItem()" class="btn btn-primary">
            AddMore
          </button>
        </div>
      </div>
    </div>

  </div>
  <!-- </div> -->
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <!-- <button class="d-flex  btn btn-custom" mat-button [disabled]="!f.valid" (click)="doAction()">Save Changes</button> -->
      <button class="d-flex  btn btn-custom" mat-button [disabled]="EditVendorSettingForm.invalid"
        (click)="doAction()">Save Changes</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'AddUser'" #g="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title> Add New User</h2>
  </div>
  <div mat-dialog-content class="model-body ">


    <div *ngIf="action == 'AddUser';">
      <label class="mt-4"> First Name</label>
      <mat-form-field appearance="none">
        <input placeholder="First Name" name="Vendor1" #Vendor1="ngModel"
          [ngClass]="{ 'is-invalid': g.submitted && Vendor1.invalid }" required matInput
          [(ngModel)]="localdata.firstname">
      </mat-form-field>
      <label class="mt-4"> Last Name</label>
      <mat-form-field appearance="none">
        <input placeholder="Last Name" name="Vendorlast1" #Vendorlast1="ngModel"
          [ngClass]="{ 'is-invalid': g.submitted && Vendorlast1.invalid }" required matInput
          [(ngModel)]="localdata.lastname">
      </mat-form-field>
      <div class="mt-4">
        <mat-checkbox [(ngModel)]="selectcheckemail" name="Active1" #Active1="ngModel"
          [ngClass]="{ 'is-invalid': g.submitted && Active1.invalid }" required (ngModelChange)="updateIsActiveEmail()">
        </mat-checkbox> {{selecttext}}
      </div>
      <label class="mt-4"> Email Address </label>
      <mat-form-field appearance="none">
        <input placeholder="Email Address" type="email" name="Email1" #Email1="ngModel"
          [ngClass]="{ 'is-invalid': g.submitted && Email1.invalid }" required matInput [(ngModel)]="localdata.email">
      </mat-form-field>
      <label class="mt-4"> Password</label>
      <mat-form-field appearance="none">
        <input [type]="password" placeholder="Password" name="Password1" #Password1="ngModel"
          (keyup)="passwordTest($event)" [ngClass]="{ 'is-invalid': g.submitted && Password1.invalid }" required
          matInput [(ngModel)]="localdata.password">
        <input *ngIf="err" type="checkbox" (click)="showPassword(password)"><span *ngIf="err" style="color: black;">
          Show
          Password</span>

      </mat-form-field>
      <div class="invalid-feedback d-block" style="color: red;" *ngIf="err">
        <p>{{message}}</p> <br>

      </div>
      <!-- 
      <label class="mt-4"> Role Id</label>
      <mat-form-field appearance="none">
        <input placeholder="Role Id" matInput name="Role1" #Role1="ngModel"
          [ngClass]="{ 'is-invalid': g.submitted && Role1.invalid }" required [(ngModel)]="localdata.roleId">
      </mat-form-field> -->

      <label> Role </label>
      <mat-form-field appearance="fill">
        <mat-label *ngIf="!localdata.roleId "> Role </mat-label>
        <mat-select [(ngModel)]="localdata.roleId" name="Role1" #Role1="ngModel" required>
          <mat-option *ngFor="let role of roles" [value]="role.id">
            {{role.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" [disabled]="!g.valid" mat-button (click)="doAction()">Save Changes</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'AddNewUser'" #p="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title>Add New User</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf="action == 'AddNewUser'">
      <!-- <label class="mt-4 d-none"> Tenent Id</label>
      <mat-form-field class="d-none" appearance="none">
        <input matInput placeholder="Tenent Id" name="Tenent2" #Tenent2="ngModel"
          [ngClass]="{ 'is-invalid': p.submitted && Tenent2.invalid }" required 
          [(ngModel)]="localdata.tenentId">
      </mat-form-field> -->
      <!-- <label class="mt-4"> Role Id</label>
      <mat-form-field   appearance="none">
        <input  matInput  placeholder="Role Id" name="Role2" #Role2="ngModel"
          [ngClass]="{ 'is-invalid': p.submitted && Role2.invalid }" required [(ngModel)]="localdata.roleId">
      </mat-form-field>  -->
      <label class="mt-4"> First Name</label>
      <mat-form-field appearance="none">
        <input placeholder="First Name" matInput name="Vendor2" #Vendor2="ngModel"
          [ngClass]="{ 'is-invalid': p.submitted && Vendor2.invalid }" required [(ngModel)]="localdata.firstName">
      </mat-form-field>
      <label class="mt-4"> Last Name</label>
      <mat-form-field appearance="none">
        <input placeholder="Last Name" matInput name="Vendorlast2" #Vendorlast2="ngModel"
          [ngClass]="{ 'is-invalid': p.submitted && Vendorlast2.invalid }" required [(ngModel)]="localdata.lastName">
      </mat-form-field>
      <div class="mt-4">
        <mat-checkbox [(ngModel)]="selectcheckemail" name="Active3" #Active3="ngModel" required
          (ngModelChange)="updateIsActiveEmail()">
        </mat-checkbox> {{selecttext}}
      </div>
      <label class="mt-4"> Email Address </label>
      <mat-form-field appearance="none">
        <input placeholder="Email Address" matInput name="Email3" #Email3="ngModel"
          [ngClass]="{ 'is-invalid': p.submitted && Email3.invalid }" required [(ngModel)]="localdata.email">
      </mat-form-field>
      <label class="mt-4"> Password</label>
      <mat-form-field appearance="none">
        <input [type]="password" matInput placeholder="Password" name="Password3" #Password3="ngModel"
          (keyup)="passwordTest($event)" [ngClass]="{ 'is-invalid': p.submitted && Password3.invalid }" required
          [(ngModel)]="localdata.password">
        <input *ngIf="err" type="checkbox" (click)="showPassword(password)"><span *ngIf="err" style="color: black;">
          Show
          Password</span>
      </mat-form-field>
      <div class="invalid-feedback d-block" style="color: red;" *ngIf="err">
        <p> Password Must Contain <span style=" text-decoration: underline;"> Alphanumeric</span> With <span
            style=" text-decoration: underline;">One Special
            Characters</span> Aa1@ </p> <br>

      </div>

    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" mat-button [disabled]="!p.valid || err " (click)="doAction()">Save
        Changes</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'updatenewUser'" #i="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'updatenewUser'">Update User</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf=" action == 'updatenewUser'">
      <!-- <label class="mt-4 d-none"> Tenent Id</label>
      <mat-form-field class="d-none" appearance="none">
        <input placeholder="Tenent Id" name="Tenent4" #Tenent4="ngModel"
          [ngClass]="{ 'is-invalid': i.submitted && Tenent4.invalid }" required matInput
          [(ngModel)]="localdata.tenentId">
      </mat-form-field> -->

      <label class="mt-4"> FirstName</label>
      <mat-form-field appearance="none">
        <input placeholder="Vendor name" name="Vendor4" #Vendor4="ngModel"
          [ngClass]="{ 'is-invalid': i.submitted && Vendor4.invalid }" required matInput
          [(ngModel)]="localdata.firstName">
      </mat-form-field>
      <label class="mt-4"> Last Name</label>
      <mat-form-field appearance="none">
        <input placeholder="Vendor name" name="VendorLast4" #VendorLast4="ngModel"
          [ngClass]="{ 'is-invalid': i.submitted && VendorLast4.invalid }" required matInput
          [(ngModel)]="localdata.lastName">
      </mat-form-field>
      <div class="mt-4">
        <mat-checkbox [(ngModel)]="selectcheckemail" name="Active4" #Active4="ngModel"
          [ngClass]="{ 'is-invalid': i.submitted && Active4.invalid }" required (ngModelChange)="updateIsActiveEmail()">
        </mat-checkbox> {{selecttext}}
      </div>

    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" [disabled]="!i.valid" mat-button (click)="doAction()">Save Changes</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'filteruniquekey'" #j="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'Updatekey';">Update User</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf="action == 'filteruniquekey';">
      <label class="mt-4"> Brand </label>
      <mat-form-field appearance="none">
        <input placeholder="Brand" name="Brand1" #Brand1="ngModel"
          [ngClass]="{ 'is-invalid': j.submitted && Brand1.invalid }" required matInput [(ngModel)]="localdata.SKU">
      </mat-form-field>
      <label class="mt-4"> SKU</label>
      <mat-form-field appearance="none">
        <input placeholder="SKU" name="SKU1" #SKU1="ngModel" [ngClass]="{ 'is-invalid': j.submitted && SKU1.invalid }"
          required matInput [(ngModel)]="localdata.SKU">
      </mat-form-field>
      <label class="mt-4"> Status</label>
      <mat-form-field appearance="none">
        <input placeholder="Status" name="Status1" #Status1="ngModel"
          [ngClass]="{ 'is-invalid': j.submitted && Status1.invalid }" required matInput [(ngModel)]="localdata.SKU">
      </mat-form-field>
      <label class="mt-4"> Batch Code </label>
      <mat-form-field appearance="none">
        <input placeholder="Batch Code" name="Batch4" #Batch4="ngModel"
          [ngClass]="{ 'is-invalid': j.submitted && Batch4.invalid }" required matInput
          [(ngModel)]="localdata.BatchCode">
      </mat-form-field>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end" *ngIf="action == 'filteruniquekey';">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" [disabled]="!j.valid" mat-button (click)="doAction()"
        mat-flat-button>Filter</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'Upload Product File'">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'Upload Product File';">Upload Multiple Products</h2>
  </div>
  <div mat-dialog-content class="model-body ">
    <div *ngIf="action === 'Upload Product File'" class="row form-group">
      <div class="col-5 px-2 py-0 text-center">
        <input placeholder="upload file" class="form-control mb-2 h-auto" name="uploadfile1" #csvReader
          id="txtFileUpload" (change)="uploadListener($event)" accept=".csv" type="file">
        <!-- <button class="btn btn-primary" (click)=csvJSON(products.value)> Upload </button> -->
      </div>
      <a href="/src/assets/products.csv" class="btn btn-warning col-4 d-inline-block mb-2 text-white  ml-2" download>
        Download
        Template</a>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" mat-button (click)="doAction()" mat-flat-button>Upload</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'Upload Multiple Keys'">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'Upload Multiple Keys';">Upload Multiple Keys</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf="action === 'Upload Multiple Keys'" class="row form-group">
      <div class="col-5 px-2 py-0 text-center">
        <input placeholder="upload file" class="form-control mb-2 h-auto" name="uploadfile3" #csvReader
          id="txtFileUpload" (change)="uploadListenerKeys($event)" accept=".csv" type="file">
      </div>
      <a href="/src/assets/unqiuekeys.csv" class="btn btn-warning col-5 d-inline-block mb-2 text-white ml-2" download>
        Download
        Template</a>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" mat-button (click)="doAction()" mat-flat-button>Upload</button>
    </div>
  </div>
</form>


<form *ngIf="action ==  'Upload Order File'">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'Updatekey';">Update User</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf="action === 'Upload Order File'" class="row form-group">
      <div class="col-6 px-2 py-0 text-center">
        <input placeholder="upload file" class="form-control mb-2 h-auto" name="uploadfile4" #csvReader
          id="txtFileUpload" (change)="uploadListenerOrders($event)" accept=".csv" type="file">
      </div>
      <a href="/src/assets/orders.csv" class="btn btn-warning col-5 d-inline-block mb-2 text-white  ml-2" download>
        Download
        Template</a>
    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex  btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex  btn btn-custom" mat-button (click)="doAction()" mat-flat-button>Upload</button>
    </div>
  </div>
</form>

<form *ngIf="action ==  'UploadEmail'" #o="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title *ngIf="action == 'Updatekey';">Update User</h2>
    <h2 mat-dialog-title>Add Email Template</h2>
  </div>
  <div mat-dialog-content class="model-body ">

    <div *ngIf="action == 'UploadEmail';">
      <!-- <label class="mt-4"> Product </label> -->
      <!-- <mat-form-field class="d-block w-50" appearance="none">
        <mat-label>Product</mat-label>
        <mat-select (selectionChange)="selectedProductValue($event)" name="productId2" #productId2="ngModel"
          [ngClass]="{ 'is-invalid': o.submitted && productId2.invalid }" [(ngModel)]="localdata.productId" required>
          <mat-option *ngFor="let prod of productsAll" [value]="prod.id">{{prod.name}} </mat-option>
        </mat-select>
      </mat-form-field> -->
      <!-- <mat-form-field appearance="none">
        <input placeholder="productId" name="productId2" #productId2="ngModel"
          [ngClass]="{ 'is-invalid': o.submitted && productId2.invalid }" required matInput
          [(ngModel)]="localdata.productId">
      </mat-form-field> -->

      <label class="mt-4"> Name </label>
      <mat-form-field appearance="none">
        <input placeholder="name" name="name5" #name5="ngModel"
          [ngClass]="{ 'is-invalid': o.submitted && name5.invalid }" required matInput [(ngModel)]="localdata.name">
      </mat-form-field>
      <div class="mt-5">
        <ckeditor [(ngModel)]="localdata.emailTemplate" name="emailTemplate" #emailTemplate="ngModel" required
          [config]="config" (change)="onChange($event)" (editorChange)="onEditorChange($event)"
          (ready)="onReady($event)" (focus)="onFocus($event)" (blur)="onBlur($event)"
          (contentDom)="onContentDom($event)" (fileUploadRequest)="onFileUploadRequest($event)"
          (fileUploadResponse)="onFileUploadResponse($event)" (paste)="onPaste($event)" (drop)="onDrop($event)"
          debounce="500">
        </ckeditor>
      </div>
      <!-- <div class="form-group">
        <label class="mt-4"> EmailHtml </label>
        <input placeholder="upload file" name="uploadfile5" #uploadfile5="ngModel" [(ngModel)]="localdata.file"
          [ngClass]="{ 'is-invalid': o.submitted && uploadfile5.invalid }" required #csvReader id="txtFileUpload"
          (change)="uploadListenerHtml($event)" accept=".html" type="file">
      </div> -->
      <div class="mt-5 d-block">
        <mat-checkbox class="d-inline mb-4" name="Active5" #Active5="ngModel"
          [ngClass]="{ 'is-invalid': o.submitted && Active5.invalid }" required [(ngModel)]="selectcheckemail"
          (ngModelChange)="updateIsActiveEmail()"></mat-checkbox> {{selecttext}}
      </div>



      <label class="mt-4"> Comments</label>
      <mat-form-field appearance="none">
        <input placeholder="Comments" matInput name="Comments" #Comments="ngModel"
          [ngClass]="{ 'is-invalid': o.submitted && Comments.invalid }" [(ngModel)]="localdata.comments">
      </mat-form-field>

    </div>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex btn btn-custom" mat-button [disabled]="!o.valid" (click)="doAction()" mat-flat-button>Add
        Email Template</button>
    </div>
  </div>
</form>

<form *ngIf="action ==  'AsignEmailToProduct'" #asign="ngForm">
  <div class="model-header">
    <div (click)="closeDialog()" class="close">
      <mat-icon> close</mat-icon>
    </div>
    <h2 mat-dialog-title>Asign Email To Product</h2>
  </div>
  <div mat-dialog-content class="model-body ">
    <mat-form-field class="d-block w-50" appearance="none">
      <mat-label>Email</mat-label>
      <mat-select (selectionChange)="selectedEmailValue($event)" name="emailId" #emailId="ngModel"
        [ngClass]="{ 'is-invalid': asign.submitted && emailId.invalid }" [(ngModel)]="localdata.emailId" required>
        <mat-option *ngFor="let email of localdata.emailTemplateList" [value]="email.id">{{email.name}} </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div mat-dialog-actions class="model-footer mt-4 " align="end">
    <div class="d-flex justify-content-end">
      <button class="d-flex btn btn-custom" mat-button (click)="closeDialog()" mat-flat-button>Close</button>
      <button class="d-flex btn btn-custom" mat-button [disabled]="!asign.valid" (click)="doAction()"
        mat-flat-button>Add
        Email Template</button>
    </div>
  </div>
</form>

<div class="model-header" *ngIf="action === 'ViewAll'">
  <div (click)="closeDialog()" class="close">
    <mat-icon> close</mat-icon>
  </div>
</div>
<div mat-dialog-content *ngIf="action === 'ViewAll'" class="model-body ">

  <mat-card>
    <p> Name : {{localdata.name}} </p>
    <p> Category : {{localdata.category }} </p>
    <p> Is Active :{{localdata.IsActive}} </p>
    <p> Unique Key : {{localdata.UniqueKey}} </p>
  </mat-card>
</div>

<div class="model-header" *ngIf="action === 'Delete'">
  <div (click)="closeDialog()" class="close">
    <mat-icon> close</mat-icon>
  </div>
</div>
<div mat-dialog-content *ngIf="action === 'Delete'" class="model-body ">

  <mat-card *ngIf="action === 'Delete'">
    <p>Sure to delete <b>{{local_data.name}}</b>?</p>
  </mat-card>
</div>
<div class="model-header" *ngIf="action === 'product not found'">
  <div (click)="closeDialog()" class="close">
    <mat-icon> close</mat-icon>
  </div>
</div>
<div mat-dialog-content *ngIf="action === 'product not found'" class="model-body ">

  <div *ngIf="action === 'product not found'">
    <p> Your Unique for the availabe product is updated!!</p>
    <p class="font-weight-bold mt-4">No Product was found for these SKU</p>
    <ul>
      <li *ngFor="let productkey of localdata[0]" id="productkey"> {{productkey}} </li>
    </ul>
  </div>
</div>

<div
  *ngIf=" action =='loginError' ||  action === 'mailsenterror'||  action == 'AddProductkey' || action === 'AddProduct' || action === 'AddVendor' || action === 'revokeorder' || action === 'updatestatus' || action === 'productdeleted'  || action === 'deleteemailtemplate' || action === 'deleteemailtemplate' || action === 'addemailtemplate'
    || action === 'mailSent' || action === 'Loginback' || action === 'adduser' || action === 'addVendor' || action === 'addsetting' || action === 'updatesetting' || action === 'loaded' || action === 'mailsent' || action === 'updatestatus'">
  <!-- <div class="model-header">
      <div (click)="closeDialog()"  class="close"> <mat-icon> close</mat-icon></div>
    </div> -->
  <div mat-dialog-content class="model-body ">
    <p class="text-center mb-0"> {{ localdata.message }} </p>
  </div>
</div>